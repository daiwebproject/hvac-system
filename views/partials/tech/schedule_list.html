{{ define "tech/partials/schedule_list" }}
<div class="space-y-6 relative before:absolute before:inset-0 before:left-5 before:h-full before:w-0.5 before:bg-gray-200 before:content-['']">
    {{ range $index, $item := .ScheduleItems }}
    <div class="relative pl-12 transition-all duration-300">
        <div class="absolute left-0 top-0 w-10 h-10 rounded-full border-4 border-white shadow-sm flex items-center justify-center z-10 
             {{if $item.IsCurrent}}bg-{{$item.Color}} text-white scale-110{{else}}bg-gray-100 text-gray-400{{end}}">
            <i class="fa-solid {{$item.Icon}} text-xs"></i>
        </div>

        <div class="bg-white p-4 rounded-2xl shadow-sm border {{if $item.IsCurrent}}border-{{$item.Color}}/30 ring-1 ring-{{$item.Color}}/10{{else}}border-gray-100{{end}}">
            <div class="flex justify-between items-start mb-2">
                <span class="text-lg font-black text-{{if $item.IsCurrent}}{{$item.Color}}{{else}}gray-500{{end}}">{{$item.DisplayTime}}</span>
                <span class="badge badge-xs uppercase font-bold tracking-tighter">{{$item.GetString "job_status"}}</span>
            </div>
            
            <h4 class="font-bold text-gray-800 leading-tight">{{$item.GetString "service_name"}}</h4>
            <div class="flex items-center gap-2 mt-2 text-xs text-gray-500">
                <i class="fa-solid fa-location-dot"></i>
                <span class="truncate">{{$item.GetString "customer_address"}}</span>
            </div>

            {{if $item.IsCurrent}}
            <div class="mt-4 flex gap-2">
                <a href="/tech/job/{{$item.Id}}" class="btn btn-sm btn-{{$item.Color}} flex-1 rounded-xl text-xs">
                    Tiếp tục xử lý
                </a>
            </div>
            {{end}}
        </div>
    </div>
    {{ else }}
    <div class="bg-blue-50 p-8 rounded-3xl border border-blue-100 text-center">
        <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm">
            <i class="fa-solid fa-mug-hot text-blue-400 text-2xl"></i>
        </div>
        <p class="text-blue-700 font-bold">Hôm nay chưa có lịch trình</p>
        <p class="text-blue-500/70 text-xs mt-1">Hãy nghỉ ngơi hoặc chờ việc mới nhé!</p>
    </div>
    {{ end }}
</div>
{{ end }}